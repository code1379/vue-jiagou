{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/props.ts", "../src/index.ts"],
  "sourcesContent": ["export const nodeOps = {\n  insert(el, parent, anchor) {\n    // <div id=\"app\">   <span></span></div>\n    // \u5177\u5907\u63D2\u5165\u5230\u67D0\u4E2A\u5143\u7D20\u524D\u9762\uFF0C\u5982\u679C\u4E0D\u4F20\u9012anchor\uFF0C\u5219\u662F\u76F4\u63A5appendChild\n    return parent.insertBefore(el, anchor || null);\n  },\n  remove(el) {\n    const parent = el.parentNode;\n    if (parent) {\n      parent.removeChild(el);\n    }\n  },\n  createElement(type) {\n    return document.createElement(type);\n  },\n  createText(text) {\n    return document.createTextNode(text);\n  },\n  setText(node, text) {\n    return (node.nodeValue = text);\n  },\n  setElementText(node, text) {\n    return (node.textContent = text);\n  },\n  parentNode(node) {\n    return node.parent;\n  },\n  nextSibling(node) {\n    return node.nextSibling;\n  },\n};\n", "function patchStyle(el, prevValue, nextValue) {\n  // { color: \"red\" } -> {background: \"red\"}\n  const style = el[\"style\"];\n  if (nextValue) {\n    for (let key in nextValue) {\n      style[key] = nextValue(key);\n    }\n  }\n\n  if (prevValue) {\n    for (let key in prevValue) {\n      if (nextValue[key] == null) {\n        style[key] = null;\n      }\n    }\n  }\n}\n\nfunction patchClass(el, nextValue) {\n  // class: \"abc\" ==> class=\"abc cdg\"\n  if (nextValue == null) {\n    el.removeAttribute(\"class\");\n  } else {\n    el.className = nextValue;\n  }\n}\n\nfunction createInvoker(val) {\n  const invoker = (e) => invoker.val(e);\n\n  invoker.val = val;\n  return invoker;\n}\n\nfunction patchEvent(el, eventName, nextValue) {\n  // \u5BF9\u4E8E\u4E8B\u4EF6\u800C\u8A00\uFF0C\u6211\u4EEC\u5E76\u4E0D\u5173\u5FC3\u4E4B\u524D\u90A3\u662F\u4EC0\u4E48\uFF0C\u800C\u662F\u7528\u6700\u65B0\u7684\u7ED3\u679C\n  const invokers = el._vei || (el.vei = {});\n  const exists = invokers[eventName];\n  // click:a click:b\n  // \u901A\u8FC7\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u53D8\u91CF\uFF0C\u7ED1\u5B9A\u8FD9\u4E2A\u53D8\u91CF\uFF0C\u540E\u7EED\u66F4\u6539\u53D8\u91CF\u5BF9\u5E94\u7684\u503C\n  // click: customEvent  -> f\n  if (exists && nextValue) {\n    // \u6362\u7ED1\u4E8B\u4EF6\n    exists.val = nextValue;\n  } else {\n    const name = eventName.slice(2).toLowerCase();\n    if (nextValue) {\n      const invoker = (invokers[eventName] = createInvoker(nextValue));\n      el.addEventListener(name, invoker);\n    } else if (exists) {\n      el.removeEventListener(name, exists);\n      invokers[eventName] = null;\n    }\n  }\n}\n\nfunction patchAttr(el, key, nextValue) {\n  if (nextValue == null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, nextValue);\n  }\n}\n\nexport function patchProp(el, key, prevValue, nextValue) {\n  // \u5C5E\u6027\u7684\u521D\u59CB\u5316\u548C\u66F4\u884C\uFF1A\u5BF9\u4E8E\u521D\u59CB\u5316 prevValue: null\n\n  if (key === \"style\") {\n    // { style: {color: red}} -> el.style[key] = value\n    return patchStyle(el, prevValue, nextValue);\n  } else if (key === \"class\") {\n    // {class: \"abc\"} -> el.className(class, '')\n    return patchClass(el, nextValue);\n  } else if (/^on[^a-z]/.test(key)) {\n    // onClick -> addEventListener\n    return patchEvent(el, key, nextValue);\n  } else {\n    return patchAttr(el, key, nextValue);\n  }\n}\n", "import { nodeOps } from \"./nodeOps\";\nimport { patchProp } from \"./props\";\n\nconst renderOptions = { ...nodeOps, patchProp };\n// \u9ED8\u8BA4\u7684\u6E32\u67D3\u90A3\u5C5E\u6027\uFF0C\u53EF\u4EE5\u6784\u5EFA\u6E32\u67D3\u5668\uFF0C\u4E5F\u53EF\u4EE5\u8BA9\u7528\u6237\u63D0\u4F9B\u6E32\u67D3\u5C5E\u6027\u6765\u6E32\u67D3\nconsole.log(\"renderOptions\", renderOptions);\n"],
  "mappings": ";AAAO,IAAM,UAAU;AAAA,EACrB,OAAO,IAAI,QAAQ,QAAQ;AAGzB,WAAO,OAAO,aAAa,IAAI,UAAU,IAAI;AAAA,EAC/C;AAAA,EACA,OAAO,IAAI;AACT,UAAM,SAAS,GAAG;AAClB,QAAI,QAAQ;AACV,aAAO,YAAY,EAAE;AAAA,IACvB;AAAA,EACF;AAAA,EACA,cAAc,MAAM;AAClB,WAAO,SAAS,cAAc,IAAI;AAAA,EACpC;AAAA,EACA,WAAW,MAAM;AACf,WAAO,SAAS,eAAe,IAAI;AAAA,EACrC;AAAA,EACA,QAAQ,MAAM,MAAM;AAClB,WAAQ,KAAK,YAAY;AAAA,EAC3B;AAAA,EACA,eAAe,MAAM,MAAM;AACzB,WAAQ,KAAK,cAAc;AAAA,EAC7B;AAAA,EACA,WAAW,MAAM;AACf,WAAO,KAAK;AAAA,EACd;AAAA,EACA,YAAY,MAAM;AAChB,WAAO,KAAK;AAAA,EACd;AACF;;;AC9BA,SAAS,WAAW,IAAI,WAAW,WAAW;AAE5C,QAAM,QAAQ,GAAG,OAAO;AACxB,MAAI,WAAW;AACb,aAAS,OAAO,WAAW;AACzB,YAAM,GAAG,IAAI,UAAU,GAAG;AAAA,IAC5B;AAAA,EACF;AAEA,MAAI,WAAW;AACb,aAAS,OAAO,WAAW;AACzB,UAAI,UAAU,GAAG,KAAK,MAAM;AAC1B,cAAM,GAAG,IAAI;AAAA,MACf;AAAA,IACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,IAAI,WAAW;AAEjC,MAAI,aAAa,MAAM;AACrB,OAAG,gBAAgB,OAAO;AAAA,EAC5B,OAAO;AACL,OAAG,YAAY;AAAA,EACjB;AACF;AAEA,SAAS,cAAc,KAAK;AAC1B,QAAM,UAAU,CAAC,MAAM,QAAQ,IAAI,CAAC;AAEpC,UAAQ,MAAM;AACd,SAAO;AACT;AAEA,SAAS,WAAW,IAAI,WAAW,WAAW;AAE5C,QAAM,WAAW,GAAG,SAAS,GAAG,MAAM,CAAC;AACvC,QAAM,SAAS,SAAS,SAAS;AAIjC,MAAI,UAAU,WAAW;AAEvB,WAAO,MAAM;AAAA,EACf,OAAO;AACL,UAAM,OAAO,UAAU,MAAM,CAAC,EAAE,YAAY;AAC5C,QAAI,WAAW;AACb,YAAM,UAAW,SAAS,SAAS,IAAI,cAAc,SAAS;AAC9D,SAAG,iBAAiB,MAAM,OAAO;AAAA,IACnC,WAAW,QAAQ;AACjB,SAAG,oBAAoB,MAAM,MAAM;AACnC,eAAS,SAAS,IAAI;AAAA,IACxB;AAAA,EACF;AACF;AAEA,SAAS,UAAU,IAAI,KAAK,WAAW;AACrC,MAAI,aAAa,MAAM;AACrB,OAAG,gBAAgB,GAAG;AAAA,EACxB,OAAO;AACL,OAAG,aAAa,KAAK,SAAS;AAAA,EAChC;AACF;AAEO,SAAS,UAAU,IAAI,KAAK,WAAW,WAAW;AAGvD,MAAI,QAAQ,SAAS;AAEnB,WAAO,WAAW,IAAI,WAAW,SAAS;AAAA,EAC5C,WAAW,QAAQ,SAAS;AAE1B,WAAO,WAAW,IAAI,SAAS;AAAA,EACjC,WAAW,YAAY,KAAK,GAAG,GAAG;AAEhC,WAAO,WAAW,IAAI,KAAK,SAAS;AAAA,EACtC,OAAO;AACL,WAAO,UAAU,IAAI,KAAK,SAAS;AAAA,EACrC;AACF;;;AC5EA,IAAM,gBAAgB,EAAE,GAAG,SAAS,UAAU;AAE9C,QAAQ,IAAI,iBAAiB,aAAa;",
  "names": []
}
